from app.api.gigachat_api import GigaAgent

FINALIZER_PROMPT = """
Ты — финальный редактор отчётов по онлайн-встречам. 
Тебе передан полный черновик (склеенные саммари реплик).

Задача:
1. Преобразуй текст в цельный итоговый отчёт для руководителя. 
2. Убери повторы и избыточные формулировки.
3. Объедини близкие мысли в структурированные пункты, если это уместно.
4. Сохрани фактическую точность — не добавляй ничего нового.
5. Используй деловой стиль: чёткие формулировки, краткость.
6. Если встречаются даты, имена, e-mail — оставь их без изменений.

Формат вывода:
Цельный отчёт в виде абзацев или маркированного списка.
"""

class Finalizer(GigaAgent):
    def __init__(self):
        super().__init__(FINALIZER_PROMPT)

    async def run(self, text: str) -> str:
        """
        Получает весь combined_summary и возвращает финализированный текст.
        """
        return await super().run(text)
